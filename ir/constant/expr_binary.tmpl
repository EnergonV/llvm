// generated by gen.go using 'go generate'; DO NOT EDIT.

// {{ h1 .Desc }}
//
// References:
//    {{ .URL }}

package constant

import (
	"fmt"

	"github.com/llir/llvm/ir/types"
)

{{- range .Insts }}
// {{ lower .Name | h2 }}

// Expr{{ .Name }} represents {{ .Desc }} expression.
//
// References:
//    http://llvm.org/docs/LangRef.html#{{ lower .Name }}-instruction
type Expr{{ .Name }} struct {
	// Operands.
	x, y Constant
	// Track uses of the value.
	used
}

// New{{ .Name }} returns a new {{ lower .Name }} expression based on the given operands.
func New{{ .Name }}(x, y Constant) *Expr{{ .Name }} {
	return &Expr{{ .Name }}{x: x, y: y}
}

// Type returns the type of the constant expression.
func (expr *Expr{{ .Name }}) Type() types.Type {
	return expr.x.Type()
}

// Ident returns the string representation of the constant expression.
func (expr *Expr{{ .Name }}) Ident() string {
	x, y := expr.X(), expr.Y()
	return fmt.Sprintf("{{ lower .Name }} (%s %s, %s %s)",
		x.Type(),
		x.Ident(),
		y.Type(),
		y.Ident())
}

// Immutable ensures that only constants can be assigned to the
// constant.Constant interface.
func (*Expr{{ .Name }}) Immutable() {}

// Simplify returns a simplified version of the constant expression.
func (expr *Expr{{ .Name }}) Simplify() Constant {
	panic("not yet implemented")
}

// X returns the x operand of the {{ lower .Name }} expression.
func (expr *Expr{{ .Name }}) X() Constant {
	return expr.x
}

// Y returns the y operand of the {{ lower .Name }} expression.
func (expr *Expr{{ .Name }}) Y() Constant {
	return expr.y
}
{{- end }}
